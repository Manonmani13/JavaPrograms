SELECT r.*, tc.name as 'child_name' ,tc.description as description,tcl.name as parent_name FROM relationship r  left join ticket_categories tc on r.child_id = tc.id
                        left join relationship_config rc  on r.relationship_type_id = rc.id
												left join ticket_configuration tcl on tcl.id=tc.parent_id  where rc.type ='ticketcategory'  and tc.campus_id = '2'



SELECT r.*, tc.name as 'child_name' ,tc.description as description,tc.parent_category FROM relationship r  left join ticket_categories tc on r.child_id = tc.id
                        left join relationship_config rc  on r.relationship_type_id = rc.id where rc.type ='ticketcategory'  and tc.campus_id = '1';


select * from ticket_categories where lookup_name='campus';

1	Sunderland Campus
2	Sunderland in London
689115	Main campus

SELECT r.*, tc.name as 'child_name' ,tc.description as description FROM relationship r  left join ticket_categories tc on r.child_id = tc.id
                        left join relationship_config rc  on r.relationship_type_id = rc.id where rc.type ='ticketcategory'  and tc.campus_id  not in('1','2')

SELECT r.*, tc.name as 'child_name' ,tc.description as description FROM relationship r  left join case_categories tc on r.child_id = tc.id
                        left join relationship_config rc  on r.relationship_type_id = rc.id where rc.type ='casecategory' and tc.campus_id = '1';


select GROUP_CONCAT(service_id) from calendar_service_users where member_id = 73921;

 select * from (SELECT r.id,r.name,r.relationship_type_id,tc.parent_id,r.child_id,r.root_id,r.path,r.name_path,r.parent_type,r.child_type,r.created_at,r.created_by,r.updated_at,r.updated_by,tc.status as 'status', tc.name as 'child_name',( CASE WHEN (`tc`.`is_confidential` = 1) THEN `tc`.`id` ELSE 'all' END ) AS `confidential_access`  FROM relationship r  left join calendar_service tc on r.child_id = tc.id
                        left join relationship_config rc  on r.relationship_type_id = rc.id where rc.type ='calendarServiceCategory' ) J  where  confidential_access in ('all'),61,60,24);

select * from calendar_service_users

61,60,24
